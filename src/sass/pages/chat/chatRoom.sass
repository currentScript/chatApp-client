@use "../../main" as main

@keyframes reloading
    0%
        transform: rotate(0deg)

    15%
        transform: rotate(-25deg)
    
    80%
        transform: rotate(400deg)

    100%
        transform: rotate(360deg)

@include main.buttonClickAnimation(buttonClick)

.chatRoom
    width: 100%
    position: relative
    height: calc( 100vh - 5em)
    display: flex
    flex-direction: column
    background: rgba(0, 0, 0, .1)

    header
        display: flex
        align-items: center
        justify-content: space-between
        padding: 0 2em
        margin: 1em 0
        cursor: pointer
        height: 10vh
        z-index: 2
        position: relative

        .roomInfos
            display: flex
            align-items: center
            padding: 0 2em
            margin: 2em 0
            cursor: pointer
            height: 10vh
        
            img
                width: 5em
                border-radius: .7em
                transition: .2s ease

            h1
                padding-left: .5em
                transition: .2s ease
                font-size: 2rem

            &:hover
                img
                    border-radius: 1em

                h1
                    padding-left: 1em

        .reloadChat
            background: main.$purple-bg
            width: 2.5em
            height: 2.5em
            border-radius: .7em
            display: flex
            align-items: center
            justify-content: center
            cursor: pointer
            transition: .2s ease

            &.reloading
                animation: buttonClick .5s ease

            &:hover
                background: main.$purple-bg
                filter: brightness(1.2)
                border-radius: .9em

            svg
                color: main.$pink
                width: 1.25em
                height: 1.25em
                margin: 0
                &.reloading
                    animation: reloading 1s ease


    .chatBoxWrapper
        min-height: min-content
        width: 100%
        overflow-y: scroll
        position: relative
        padding: 0 .7em
        display: flex
        flex-direction: column-reverse
        box-shadow: inset 0 10px 20px -20px #000000, inset 0px -10px 20px -20px #000000
        height: 100%

        &::-webkit-scrollbar
            width: .7em

        &::-webkit-scrollbar-track
            background: #8d8bff22
            border-radius: 10000px

        &::-webkit-scrollbar-thumb
            background: main.$blue
            transition: .6s ease
            border-radius: 10000px

            &:hover
                background: #8d8bff

    .chatBox
        display: flex
        flex-direction: column

        .message
            width: 100%
            display: flex
            align-items: center
            padding: .5em 2em
            margin: .5em 0
            transition: .2s ease
            border-radius: .5em

            &:hover
                background: rgba(0, 0, 0, .15)

                .deleteMessage
                    opacity: 1

            .profileImage
                width: 2.5em
                border-radius: .7em
                margin-right: .5em
                align-self: flex-start
                justify-self: flex-start
                cursor: pointer

            .messageRight
                display: flex
                flex-direction: column
                justify-content: space-between
                width: 70%

                .top
                    .username   
                        color: main.$text-color
                        cursor: pointer
                    .date
                        color: main.$text-color-50
                        font-size: .8rem

                .messageContent
                    color: main.$text-color-50

            .deleteMessage
                background: main.$purple-bg
                width: 2em
                height: 2em
                border-radius: .7em
                display: flex
                align-items: center
                justify-content: center
                cursor: pointer
                transition: .2s ease
                margin-left: auto
                opacity: 0

                &:hover
                    background: main.$purple-bg
                    filter: brightness(1.2)
                    border-radius: .9em

                svg
                    color: main.$pink
                    width: 1em
                    height: 1em
                    margin: 0

    form
        width: 100%
        height: 10vh
        min-height: 4em
        padding: 0 2em
        display: flex
        align-items: center
        margin-top: auto

        input
            background: transparent
            border: rgba(255, 255, 255, 0.30) 2px solid
            border-radius: 1em
            color: rgba(255, 255, 255, .50)
            padding: 1em
            width: 100%
            transition: .2s ease
            font-size: 1rem

            &::placeholder
                color: rgba(255, 255, 255, .50)

            &:focus, &:active
                outline: none
                color: main.$text-color

        svg
            color: main.$pink
            font-size: 1.5rem
            transition: .2s ease
            margin-left: 1em
            
            &:hover
                transform: scale(1.2)